import{Q as C,j as e,N as E}from"./index-CG7SSU4o.js";import{b as l,L as q}from"./vendor-BTIRFlpi.js";import"./db-B57dbsqE.js";import"./qr-v3zJE_Id.js";function w(){const[s,m]=l.useState(null),[d,c]=l.useState(0),[g,t]=l.useState(!1),[N,n]=l.useState(""),[r,p]=l.useState(""),[u,b]=l.useState(""),h=[{name:"İstanbul",lat:41.0082,lng:28.9784},{name:"Ankara",lat:39.9334,lng:32.8597},{name:"İzmir",lat:38.4192,lng:27.1287},{name:"Antalya",lat:36.8969,lng:30.7133},{name:"Bursa",lat:40.1826,lng:29.0665},{name:"Trabzon",lat:41.0027,lng:39.7168}];l.useEffect(()=>{s&&Q()},[s]);const f=()=>{if(!navigator.geolocation){alert("Tarayıcınız konum hizmetlerini desteklemiyor");return}t(!0),navigator.geolocation.getCurrentPosition(a=>{const i={lat:parseFloat(a.coords.latitude.toFixed(8)),lng:parseFloat(a.coords.longitude.toFixed(8))};m(i),c(Math.round(a.coords.accuracy)),t(!1),fetch(`/api/nominatim/reverse?lat=${i.lat}&lon=${i.lng}&format=json`).then(o=>o.json()).then(o=>{n(o.display_name||"Adres bulunamadı")}).catch(()=>{n("Adres alınamadı")})},a=>{t(!1);let i="Konum alınamadı";switch(a.code){case a.PERMISSION_DENIED:i="Konum izni reddedildi. Lütfen tarayıcı ayarlarından konum iznini açın.";break;case a.POSITION_UNAVAILABLE:i="Konum bilgisi kullanılamıyor.";break;case a.TIMEOUT:i="Konum alma zaman aşımına uğradı. Tekrar deneyin.";break}alert(i)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},x=async()=>{if(u.trim()){t(!0);try{const i=await(await fetch(`/api/nominatim/search?q=${encodeURIComponent(u)}&format=json&limit=1`)).json();if(i&&i.length>0){const o={lat:parseFloat(parseFloat(i[0].lat).toFixed(8)),lng:parseFloat(parseFloat(i[0].lon).toFixed(8))};m(o),n(i[0].display_name),c(0)}else alert("Konum bulunamadı")}catch{alert("Arama hatası")}finally{t(!1)}}},v=a=>{m({lat:a.lat,lng:a.lng}),n(a.name),c(0)},Q=async()=>{if(!s)return;const a=`geo:${s.lat},${s.lng}`,i=await C.toDataURL(a,{width:300,margin:2,color:{dark:"#3b82f6",light:"#ffffff"}});p(i)},R=()=>{if(!r)return;const a=document.createElement("a");a.download=`location-qr-${Date.now()}.png`,a.href=r,a.click()},S=async()=>{if(!(!r||!s||!("share"in navigator)))try{const a=await(await fetch(r)).blob(),i=new File([a],"location-qr.png",{type:"image/png"});await navigator.share({files:[i],title:"Konum QR Kod",text:`Konum: ${s.lat}, ${s.lng}`})}catch{}},j=()=>{s&&window.open(`https://www.google.com/maps?q=${s.lat},${s.lng}`,"_blank")};return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 pb-20",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-6 px-6 sticky top-0 z-10 shadow-lg",children:e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(q,{to:"/",className:"text-white",children:e.jsxDEV("i",{className:"ri-arrow-left-line text-2xl"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:166,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold",children:"Konum QR Kod"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:170,columnNumber:13},this),e.jsxDEV("p",{className:"text-indigo-100 text-sm",children:"GPS konumunuzu QR'a dönüştürün"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:165,columnNumber:9},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:164,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Konum Seç"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:179,columnNumber:11},this),e.jsxDEV("button",{onClick:f,disabled:g,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-4 rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 mb-4 disabled:opacity-50",children:g?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:188,columnNumber:17},this),e.jsxDEV("span",{children:"Konum alınıyor..."},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:189,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:187,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("i",{className:"ri-map-pin-line text-2xl"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:193,columnNumber:17},this),e.jsxDEV("span",{children:"Mevcut Konumumu Kullan"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:192,columnNumber:15},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:181,columnNumber:11},this),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:u,onChange:a=>b(a.target.value),onKeyPress:a=>a.key==="Enter"&&x(),placeholder:"Şehir, adres veya yer ara...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:202,columnNumber:15},this),e.jsxDEV("button",{onClick:x,className:"bg-indigo-100 text-indigo-600 px-6 py-3 rounded-xl font-semibold hover:bg-indigo-200 transition-all",children:e.jsxDEV("i",{className:"ri-search-line"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:214,columnNumber:17},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:201,columnNumber:13},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:200,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Popüler Konumlar"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:221,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:h.map(a=>e.jsxDEV("button",{onClick:()=>v(a),className:"p-3 bg-gray-50 hover:bg-indigo-50 border border-gray-200 hover:border-indigo-300 rounded-lg text-sm font-medium text-gray-700 hover:text-indigo-600 transition-all",children:a.name},a.name,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:224,columnNumber:17},this))},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:220,columnNumber:11},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:178,columnNumber:9},this),s&&e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-4",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Konum Bilgisi"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:239,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-xl",children:[e.jsxDEV("div",{className:"text-xs text-gray-600 mb-1",children:"Enlem (Latitude)"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("div",{className:"text-lg font-bold text-blue-600",children:[s.lat,"°"]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:242,columnNumber:15},this),e.jsxDEV("div",{className:"bg-purple-50 p-4 rounded-xl",children:[e.jsxDEV("div",{className:"text-xs text-gray-600 mb-1",children:"Boylam (Longitude)"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:247,columnNumber:17},this),e.jsxDEV("div",{className:"text-lg font-bold text-purple-600",children:[s.lng,"°"]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:248,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:246,columnNumber:15},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:241,columnNumber:13},this),d>0&&e.jsxDEV("div",{className:"bg-green-50 p-4 rounded-xl flex items-center space-x-3",children:[e.jsxDEV("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:254,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-semibold text-gray-900",children:"Konum Doğruluğu"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:256,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-gray-600",children:["±",d," metre"]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:257,columnNumber:19},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:253,columnNumber:15},this),N&&e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsxDEV("div",{className:"text-xs text-gray-600 mb-2",children:"Adres"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:264,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-gray-900",children:N},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:265,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:263,columnNumber:15},this),e.jsxDEV("button",{onClick:j,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center space-x-2",children:[e.jsxDEV("i",{className:"ri-map-line"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:273,columnNumber:15},this),e.jsxDEV("span",{children:"Haritada Aç"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:274,columnNumber:15},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:269,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl overflow-hidden border-2 border-gray-200",children:e.jsxDEV("iframe",{width:"100%",height:"300",frameBorder:"0",src:`https://www.openstreetmap.org/export/embed.html?bbox=${s.lng-.01},${s.lat-.01},${s.lng+.01},${s.lat+.01}&marker=${s.lat},${s.lng}`,style:{border:0}},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:279,columnNumber:15},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:238,columnNumber:11},this),r&&e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900 mb-6 text-center",children:"QR Kod"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:293,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-center mb-6",children:e.jsxDEV("img",{src:r,alt:"Location QR Code",className:"rounded-2xl shadow-xl"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:296,columnNumber:15},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:295,columnNumber:13},this),e.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-xl mb-4",children:[e.jsxDEV("div",{className:"text-sm text-gray-600 mb-2",children:"QR Kod İçeriği"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:304,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm font-mono text-blue-600 break-all",children:["geo:",s==null?void 0:s.lat,",",s==null?void 0:s.lng]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:303,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("button",{onClick:R,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[e.jsxDEV("i",{className:"ri-download-line text-xl"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:315,columnNumber:17},this),e.jsxDEV("span",{children:"İndir"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:316,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:311,columnNumber:15},this),"share"in navigator&&e.jsxDEV("button",{onClick:S,className:"bg-white border-2 border-indigo-600 text-indigo-600 py-3 rounded-xl font-semibold hover:bg-indigo-50 transition-all flex items-center justify-center space-x-2",children:[e.jsxDEV("i",{className:"ri-share-line text-xl"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:324,columnNumber:19},this),e.jsxDEV("span",{children:"Paylaş"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:325,columnNumber:19},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:320,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:292,columnNumber:11},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 border-2 border-blue-200",children:e.jsxDEV("div",{className:"flex items-start space-x-4",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsxDEV("i",{className:"ri-information-line text-2xl text-white"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:336,columnNumber:15},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:335,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-gray-900 mb-2",children:"Nasıl Kullanılır?"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:339,columnNumber:15},this),e.jsxDEV("ul",{className:"text-gray-600 text-sm space-y-1",children:[e.jsxDEV("li",{children:"• QR kodu tarayarak konum bilgisine erişebilirsiniz"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:341,columnNumber:17},this),e.jsxDEV("li",{children:"• Çoğu telefon QR kodu tarayınca harita uygulamasını açar"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:342,columnNumber:17},this),e.jsxDEV("li",{children:"• GPS koordinatları 8 haneli hassasiyetle kaydedilir"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:343,columnNumber:17},this),e.jsxDEV("li",{children:"• İnternet olmadan da QR kod oluşturabilirsiniz"},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:338,columnNumber:13},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:334,columnNumber:11},this)},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:333,columnNumber:9},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:176,columnNumber:7},this),e.jsxDEV(E,{},void 0,!1,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:352,columnNumber:7},this)]},void 0,!0,{fileName:"C:/1STQR/src/pages/location-qr/page.tsx",lineNumber:162,columnNumber:5},this)}export{w as default};
