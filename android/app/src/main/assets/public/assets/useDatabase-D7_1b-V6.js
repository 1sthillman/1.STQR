import{b as t}from"./vendor-BTIRFlpi.js";import{d as s}from"./index-CG7SSU4o.js";const f=()=>{const[o,l]=t.useState([]),[n,u]=t.useState(!0),a=t.useCallback(async()=>{try{const c=await s.getAllProducts();l(c)}catch{}finally{u(!1)}},[]),d=t.useCallback(async c=>{await s.addProduct(c),await a()},[a]),i=t.useCallback(async(c,w)=>{await s.updateProduct(c,w),await a()},[a]),y=t.useCallback(async c=>{await s.deleteProduct(c),await a()},[a]),e=t.useCallback(async c=>{try{return await s.getProductByBarcode(c)}catch{return null}},[]),r=t.useCallback(async c=>{try{return(await s.getAllProducts()).find(C=>String(C.id)===String(c)||Number(C.id)===Number(c))||null}catch{return null}},[]);return t.useEffect(()=>{a()},[a]),{products:o,loading:n,addProduct:d,updateProduct:i,deleteProduct:y,getProductByBarcode:e,getProductById:r,reload:a}},k=()=>{const[o,l]=t.useState([]),[n,u]=t.useState(!0),a=t.useCallback(async()=>{try{const r=await s.getCart();l(r)}catch{}finally{u(!1)}},[]),d=t.useCallback(async r=>{await s.addToCart(r),await a()},[a]),i=t.useCallback(async(r,c)=>{await s.updateCartItem(r,c),await a()},[a]),y=t.useCallback(async r=>{await s.removeFromCart(r),await a()},[a]),e=t.useCallback(async()=>{await s.clearCart(),await a()},[a]);return t.useEffect(()=>{a()},[a]),{cart:o,loading:n,addToCart:d,updateCartItem:i,removeFromCart:y,clearCart:e,reload:a}},m=()=>{const[o,l]=t.useState([]),[n,u]=t.useState(!0),a=t.useCallback(async()=>{try{const e=await s.getScanHistory(50);l(e)}catch{}finally{u(!1)}},[]),d=t.useCallback(async e=>{await s.addToScanHistory(e),await a()},[a]),i=t.useCallback(async()=>{await s.clearScanHistory(),await a()},[a]),y=t.useCallback(async e=>{await s.deleteFromScanHistory(e),await a()},[a]);return t.useEffect(()=>{a()},[a]),{history:o,loading:n,addToHistory:d,clearHistory:i,deleteFromHistory:y,reload:a}},P=()=>{const[o,l]=t.useState([]),[n,u]=t.useState(!0),a=t.useCallback(async()=>{try{const e=await s.getSales(100);l(e)}catch{}finally{u(!1)}},[]),d=t.useCallback(async e=>{await s.addSale(e),await a()},[a]),i=t.useCallback(async e=>{await s.deleteSale(e),await a()},[a]),y=t.useCallback(()=>{const e=new Date().toLocaleDateString();return o.filter(r=>new Date(r.timestamp).toLocaleDateString()===e).reduce((r,c)=>r+(c.total||0),0)},[o]);return t.useEffect(()=>{a()},[a]),{sales:o,loading:n,addSale:d,deleteSale:i,getDailyRevenue:y,reload:a}};export{m as a,P as b,k as c,f as u};
